title: 402移掉k位数
author: Jiahao Wu
categories: Leetcode
date: 2021-01-13 19:30:18
---
# **题目402 移掉k位数**

[链接](https://leetcode-cn.com/problems/remove-k-digits/)

## **题目描述**

给定一个以字符串表示的非负整数num，移除这个数中的 k 位数字，使得剩下的数字最小。  
注意:  
- num 的长度小于 10002 且 ≥ k。  
- num 不会包含任何前导零。

## **贪心算法**                        

对于两个相同长度的序列最左边不同的数字决定了大小。  
例如 $1axxx$ 和 $1bxxx$，如果$a>b$则$A>B$。
基于此，我们可以知道，若要使得剩下的数字最小，要爆炸靠前的数字尽可能小，举例来说：
原数字为12323  
去掉1 2323  
去掉2 1323  
去掉3 1223  
去掉3 1232  
我们发现去掉3的情况下是最小的，经过归纳分析，我们提出如下策略：  
给定一个长度为$n$的数字序列$[D_0D_1D_2D_3...D_{n-1}]$，从左往右找到第一个位置$i(i>0)$使得$D_i<D_{i-1}$，并删除$D_{i-1}$；如果不存在，说明整个数字序列单调不降，删除最后一个数字即可。
基于此我们可以对整个数字序列执行k次这个操作，最后的实现复杂度最差会达到$O(nk)$  
**优化：**
考虑如下例子：  
输入：[1,2,3,4,5,2,6,4]，k=4  
stack:  
1. 1   ,k=4  
2. 1 2  ,k=4  
3. 1 2 3 ,k=4  
4. 1 2 3 4 ,k=4  
5. 1 2 3 4 5 ,k=4  
6. 1 2 3 4,k=3  
7. 1 2 3,k=2  
8. 1 2 ,k=1  
9.  1 2 2 ,k=1  
10. 1 2 2 6 ,k=1   
11. 1 2 2 ,k=0  
12. 1 2 2 4, k=0  
考虑从左向右增量的构造最后的答案。我们可以用一个栈维护当前的答案序列，栈中的元素代表截止到当前位置，删除不超过$k$次个数字后，所能得到的最小整数。根据之前的讨论：在使用$k$个删除次数之前，栈中的序列从栈底到栈顶单调不降。  
因此，对于每个数字，如果当前该数字小于栈顶元素，我们就不断弹出栈顶元素，直到
- 栈为空
- 或者新的栈顶元素不大于当前数字
- 或者我们已经删除了k位数字  
上述步骤结束后我们还需要针对一些情况做额外的处理：  
- 如果我们删除了$m$个数字且$m<k$，这种情况下我们需要从序列尾部删除额外的$k-m$个数字。
- 如果我们最终的数字序列存在前导零，我们要删除前导零。
- 如果最终数字序列为空，我们应该返回0。  

最终，从栈底到栈顶的答案序列即为最小值。  
考虑到栈的特点是先进后厨，如果通过栈实现，则需要将栈内元素依次弹出然后进行翻转才能得到最小数，为了避免翻转操作，可以使用双端队列替代栈的实现。