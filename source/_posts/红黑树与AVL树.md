title: 红黑树与AVL树
author: Jiahao Wu
tags: []
categories:
  - 数据结构
date: 2021-02-15 10:57:00
---
# AVL树

AVL树也称平衡二叉树，是一种特殊的二叉查找树。它满足性质，左右子树都是AVL树，左右子树高度之差不超过1。  
AVL树的定义非常简单，通过限制左右子树的高度之差能够保证AVL树的平衡性，避免一头太大。  

# 红黑树

红黑树是一种二叉查找树，但在每个节点增加一个存储位表示节点的颜色，可以是红或黑（非红即黑）。通过对任何一条从根到叶子的路径上各个节点着色的方式的限制，红黑树确保没有一条路径会比其它路径长出两倍，因此，红黑树是一种弱平衡二叉树，相对于要求严格的AVL树来说，它的旋转次数少，所以对于搜索，插入，删除操作较多的情况下，通常使用红黑树。  

性质：  
1. 每个节点非红即黑；  
2. 根节点是黑的；  
3. 每个叶节点（叶节点即树尾端NULL指针或NULL节点）都是黑的；  
4. 如果一个节点是红色的，则它的子节点必须是黑色的；  
5. 对于任意节点而言，其到叶子点树NULL指针的每条路径都包含相同数目的黑节点。  

## 为什么map底层要用红黑树

AVL 树是高度平衡的，频繁的插入和删除，会引起频繁的rebalance，导致效率下降；红黑树不是高度平衡的，算是一种折中，插入最多两次旋转，删除最多三次旋转。所以红黑树在查找，插入删除的性能都是O(logn)，且性能稳定，所以STL里面很多结构包括map底层实现都是使用的红黑树。


